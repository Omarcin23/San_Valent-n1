<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi NiÃ±a Preciosa â¤ï¸</title>

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    text-align:center;
    color:white;
    background:linear-gradient(160deg,#ff4e8b,#ff99c8);
    overflow-x:hidden;
}

.container{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:20px;
}

h1{font-size:1.8em;}
h2{font-size:1.3em;}

button{
    width:80%;
    max-width:300px;
    padding:15px;
    font-size:1.1em;
    border:none;
    border-radius:30px;
    margin:8px;
}

#yes{background:white;color:#ff4e8b;}
#no{background:#ff1e56;color:white;position:absolute;}

img{
    width:80%;
    max-width:250px;
    border-radius:20px;
    margin-top:10px;
    box-shadow:0 0 20px rgba(255,255,255,0.8);
}

.carta{
    max-width:300px;
    background:white;
    color:#ff4e8b;
    padding:15px;
    border-radius:15px;
    margin-top:15px;
    display:none;
}

.heart{
    position:absolute;
    animation:float 5s linear infinite;
}

@keyframes float{
    0%{transform:translateY(100vh);opacity:1;}
    100%{transform:translateY(-10vh);opacity:0;}
}

.hidden{display:none;}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
    z-index:-1;
}

/* MÃºsica abajo */
#musicContainer{
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    z-index:20;
    text-align:center;
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="container" id="main">
<h1>Mi niÃ±a preciosa â¤ï¸</h1>
<h2 id="contador"></h2>
<p>Se acerca un dÃ­a muy especial...</p>
<h2>Â¿Quieres ser mi San ValentÃ­n? ğŸ’˜</h2>

<button id="yes">SÃ­ mi amor ğŸ’•</button>
<button id="no">No ğŸ˜¢</button>

<input type="file" id="fotoInput" accept="image/*">
<img id="preview" style="display:none;">
</div>

<div class="container hidden" id="respuesta">
<h1>Gracias mi amor ğŸ’–</h1>
<h2>Ahora vamos a comer broaster ğŸ—ğŸ˜</h2>
<button onclick="mostrarCarta()">Leer carta ğŸ’Œ</button>

<div class="carta" id="carta">
Eres lo mejor que me ha pasado.  
Gracias por cada sonrisa.  
Quiero celebrar este 14 contigo y muchos mÃ¡s â¤ï¸  
Te amo infinitamente.
</div>
</div>

<!-- MÃºsica -->
<div id="musicContainer">
    
    <iframe id="musicPlayer"
    width="250"
    height="140"
    style="border-radius:15px; display:none;"
    src=""
    allow="autoplay">
    </iframe>

    <br>

    <button id="musicBtn"
    style="margin-top:10px;padding:12px 25px;
    border:none;border-radius:25px;
    background:white;color:#ff4e8b;font-weight:bold;">
    ğŸµ Reproducir mÃºsica
    </button>
</div>

<script>
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const main=document.getElementById("main");
const respuesta=document.getElementById("respuesta");
const carta=document.getElementById("carta");

/* BotÃ³n No imposible */
let scale=1;
function moverBoton(){
    const x=Math.random()*(window.innerWidth-120);
    const y=Math.random()*(window.innerHeight-60);
    noBtn.style.left=x+"px";
    noBtn.style.top=y+"px";
    scale-=0.08;
    if(scale>0.3){
        noBtn.style.transform="scale("+scale+")";
    }
}
noBtn.addEventListener("touchstart",moverBoton);
noBtn.addEventListener("mouseover",moverBoton);

/* Cuando dice sÃ­ */
yesBtn.addEventListener("click",()=>{
    main.classList.add("hidden");
    respuesta.classList.remove("hidden");

    if(navigator.vibrate){
        navigator.vibrate([200,100,200,100,400]);
    }

    lanzarFuegos();
});

/* Carta */
function mostrarCarta(){
    carta.style.display="block";
}

/* Contador */
function actualizarContador(){
    const hoy=new Date();
    let anio=hoy.getFullYear();
    const fecha=new Date(anio,1,14);
    if(hoy>fecha){fecha.setFullYear(anio+1);}
    const diff=fecha-hoy;
    const dias=Math.floor(diff/(1000*60*60*24));
    document.getElementById("contador").innerText=
    "Faltan "+dias+" dÃ­as para el 14 de febrero ğŸ’–";
}
actualizarContador();

/* Corazones */
function crearCorazon(){
    const heart=document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML="ğŸ’–";
    heart.style.left=Math.random()*100+"vw";
    heart.style.fontSize=(Math.random()*20+15)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>{heart.remove()},5000);
}
setInterval(crearCorazon,700);

/* Subir foto */
document.getElementById("fotoInput").addEventListener("change",function(e){
    const reader=new FileReader();
    reader.onload=function(){
        const img=document.getElementById("preview");
        img.src=reader.result;
        img.style.display="block";
    }
    reader.readAsDataURL(e.target.files[0]);
});

/* Fuegos artificiales */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

function lanzarFuegos(){
    for(let i=0;i<25;i++){
        const x=Math.random()*canvas.width;
        const y=Math.random()*canvas.height/2;
        ctx.fillStyle="white";
        ctx.beginPath();
        ctx.arc(x,y,5,0,Math.PI*2);
        ctx.fill();
    }
}

/* MÃºsica */
const musicBtn=document.getElementById("musicBtn");
const player=document.getElementById("musicPlayer");
let musicOn=false;

musicBtn.addEventListener("click",function(){
    if(!musicOn){
        player.style.display="block";
        player.src="https://www.youtube.com/embed/CFPLIaMpGrY?autoplay=1&loop=1&playlist=CFPLIaMpGrY";
        musicBtn.innerText="â¸ Detener mÃºsica";
        musicOn=true;
    }else{
        player.src="";
        player.style.display="none";
        musicBtn.innerText="ğŸµ Reproducir mÃºsica";
        musicOn=false;
    }
});
</script>

</body>
</html>
        
