<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Ni√±a Preciosa ‚ù§Ô∏è</title>

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    text-align:center;
    color:white;
    background:linear-gradient(160deg,#ff4e8b,#ff99c8);
    overflow:hidden;
}

/* Bot√≥n m√∫sica */
#musicControl{
    position:fixed;
    top:15px;
    right:15px;
    z-index:20;
    padding:10px 15px;
    border:none;
    border-radius:25px;
    background:white;
    color:#ff4e8b;
    font-weight:bold;
    animation:pulse 1.5s infinite;
}

@keyframes pulse{
    0%{transform:scale(1);}
    50%{transform:scale(1.1);}
    100%{transform:scale(1);}
}

.container{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:20px;
}

button{
    width:80%;
    max-width:300px;
    padding:15px;
    font-size:1.1em;
    border:none;
    border-radius:30px;
    margin:8px;
}

#yes{background:white;color:#ff4e8b;}
#no{background:#ff1e56;color:white;position:absolute;}

img{
    width:80%;
    max-width:250px;
    border-radius:20px;
    margin-top:10px;
    box-shadow:0 0 20px rgba(255,255,255,0.8);
}

.carta{
    max-width:300px;
    background:white;
    color:#ff4e8b;
    padding:15px;
    border-radius:15px;
    margin-top:15px;
    display:none;
}

.heart{
    position:absolute;
    animation:float 5s linear infinite;
}

@keyframes float{
    0%{transform:translateY(100vh);opacity:1;}
    100%{transform:translateY(-10vh);opacity:0;}
}

.hidden{display:none;}

canvas{
    position:fixed;
    top:0;
    left:0;
    pointer-events:none;
    z-index:-1;
}
</style>
</head>
<body>

<!-- M√∫sica oculta -->
<iframe id="musicPlayer"
width="0"
height="0"
src="https://www.youtube.com/embed/CFPLIaMpGrY?enablejsapi=1"
allow="autoplay">
</iframe>

<button id="musicControl">üéµ Play</button>

<canvas id="fireworks"></canvas>

<div class="container" id="main">
<h1>Mi ni√±a preciosa ‚ù§Ô∏è</h1>
<h2 id="contador"></h2>
<p>Se acerca un d√≠a muy especial...</p>
<h2>¬øQuieres ser mi San Valent√≠n? üíò</h2>

<button id="yes">S√≠ mi amor üíï</button>
<button id="no">No üò¢</button>

<input type="file" id="fotoInput" accept="image/*">
<img id="preview" style="display:none;">
</div>

<div class="container hidden" id="respuesta">
<h1>Gracias mi amor üíñ</h1>
<h2>Ahora vamos a comer broaster üçóüòç</h2>
<button onclick="mostrarCarta()">Leer carta üíå</button>

<div class="carta" id="carta">
Eres lo mejor que me ha pasado.  
Gracias por cada sonrisa.  
Quiero celebrar este 14 contigo y muchos m√°s ‚ù§Ô∏è  
Te amo infinitamente.
</div>
</div>

<script>
const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");
const main=document.getElementById("main");
const respuesta=document.getElementById("respuesta");
const carta=document.getElementById("carta");
const musicBtn=document.getElementById("musicControl");
const player=document.getElementById("musicPlayer");

let scale=1;
let musicPlaying=false;

/* Bot√≥n No imposible */
function moverBoton(){
    const x=Math.random()*(window.innerWidth-120);
    const y=Math.random()*(window.innerHeight-60);
    noBtn.style.left=x+"px";
    noBtn.style.top=y+"px";
    scale-=0.08;
    if(scale>0.3){
        noBtn.style.transform="scale("+scale+")";
    }
}
noBtn.addEventListener("touchstart",moverBoton);
noBtn.addEventListener("mouseover",moverBoton);

/* Cuando dice s√≠ */
yesBtn.addEventListener("click",()=>{
    main.classList.add("hidden");
    respuesta.classList.remove("hidden");

    if(navigator.vibrate){
        navigator.vibrate([200,100,200,100,400]);
    }

    iniciarMusica();
    lanzarFuegos();
});

/* M√∫sica */
function iniciarMusica(){
    player.src="https://www.youtube.com/embed/CFPLIaMpGrY?autoplay=1&loop=1&playlist=CFPLIaMpGrY";
    musicBtn.innerText="‚è∏ Pausa";
    musicPlaying=true;
}

musicBtn.addEventListener("click",()=>{
    if(!musicPlaying){
        iniciarMusica();
    }else{
        player.src="";
        musicBtn.innerText="üéµ Play";
        musicPlaying=false;
    }
});

/* Carta */
function mostrarCarta(){
    carta.style.display="block";
}

/* Contador */
function actualizarContador(){
    const hoy=new Date();
    let anio=hoy.getFullYear();
    const fecha=new Date(anio,1,14);
    if(hoy>fecha){fecha.setFullYear(anio+1);}
    const diff=fecha-hoy;
    const dias=Math.floor(diff/(1000*60*60*24));
    document.getElementById("contador").innerText=
    "Faltan "+dias+" d√≠as para el 14 de febrero üíñ";
}
actualizarContador();

/* Corazones */
function crearCorazon(){
    const heart=document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML="üíñ";
    heart.style.left=Math.random()*100+"vw";
    heart.style.fontSize=(Math.random()*20+15)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>{heart.remove()},5000);
}
setInterval(crearCorazon,700);

/* Subir foto */
document.getElementById("fotoInput").addEventListener("change",function(e){
    const reader=new FileReader();
    reader.onload=function(){
        const img=document.getElementById("preview");
        img.src=reader.result;
        img.style.display="block";
    }
    reader.readAsDataURL(e.target.files[0]);
});

/* Fuegos artificiales */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

function lanzarFuegos(){
    for(let i=0;i<25;i++){
        const x=Math.random()*canvas.width;
        const y=Math.random()*canvas.height/2;
        ctx.fillStyle="white";
        ctx.beginPath();
        ctx.arc(x,y,5,0,Math.PI*2);
        ctx.fill();
    }
}
</script>

</body>
</html>
        
